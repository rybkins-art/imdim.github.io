(function(e){function t(t){for(var r,a,o=t[0],s=t[1],u=t[2],l=0,b=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&b.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1492:function(e,t,n){},2390:function(e,t,n){"use strict";n("25b3")},"25b3":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),i=Object(r["g"])("div",{class:"beer-logo"},"{ BEER }",-1);function c(e,t,n,c,a,o){var s=Object(r["p"])("beer-item"),u=Object(r["p"])("edit-beer-modal");return Object(r["k"])(),Object(r["f"])(r["a"],null,[i,Object(r["i"])(r["b"],{class:"beer-list",name:"beer-list",tag:"div"},{default:Object(r["t"])((function(){return[(Object(r["k"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(e.allBeer,(function(e){return Object(r["k"])(),Object(r["d"])(s,{key:e.id,item:e,onEditItem:o.showModal},null,8,["item","onEditItem"])})),128))]})),_:1}),a.showLoadMoreBtn?(Object(r["k"])(),Object(r["f"])("button",{key:0,class:"beer-list__load-more",onClick:t[0]||(t[0]=function(){return o.nextPage&&o.nextPage.apply(o,arguments)})},Object(r["q"])(a.loadMoreText),1)):Object(r["e"])("",!0),a.isEditModal?(Object(r["k"])(),Object(r["d"])(u,{key:1,item:a.editItem,onCloseModal:o.closeModal},null,8,["item","onCloseModal"])):Object(r["e"])("",!0)],64)}var a=n("1da1"),o=n("5530"),s=(n("96cf"),n("b0c0"),n("a4d3"),n("e01a"),function(e){return Object(r["m"])("data-v-1ec90a61"),e=e(),Object(r["l"])(),e}),u={class:"beer-item"},d={class:"beer-item__image"},l={class:"beer-item__btn-group"},b=["src","alt"],p={class:"beer-item__name"},f={class:"tips-icon-wrapper"},m=s((function(){return Object(r["g"])("div",{class:"tips-icon"},null,-1)})),O={class:"beer-item__tips"},j={class:"beer-item__desc"};function g(e,t,n,i,c,a){return Object(r["k"])(),Object(r["f"])("article",u,[Object(r["g"])("div",d,[Object(r["g"])("div",l,[Object(r["g"])("div",{onClick:t[0]||(t[0]=function(t){return e.deleteBeer(n.item.id)}),class:"beer-item__btn beer-item__btn--delete"}," Delete "),Object(r["g"])("div",{onClick:t[1]||(t[1]=function(e){return a.editBeer(n.item)}),class:"beer-item__btn beer-item__btn--edit"}," Edit ")]),Object(r["g"])("img",{src:n.item.image_url,width:"40",alt:n.item.name},null,8,b)]),Object(r["g"])("div",p,[Object(r["h"])(Object(r["q"])(n.item.name)+" ",1),Object(r["g"])("div",f,[m,Object(r["g"])("div",O,Object(r["q"])(n.item.brewers_tips),1)])]),Object(r["g"])("div",j,Object(r["q"])(n.item.description),1)])}var h=n("5502"),v={name:"BeerItem",props:{item:{type:Object,defualt:function(){return{}}}},methods:Object(o["a"])(Object(o["a"])({},Object(h["d"])(["deleteBeer"])),{},{editBeer:function(e){this.$emit("edit-item",e)}})},_=(n("2390"),n("d959")),w=n.n(_);const y=w()(v,[["render",g],["__scopeId","data-v-1ec90a61"]]);var B=y,x={class:"edit-modal-overlay"},M={class:"edit-modal"};function k(e,t,n,i,c,a){return Object(r["k"])(),Object(r["f"])("div",x,[Object(r["g"])("div",M,[Object(r["u"])(Object(r["g"])("input",{class:"edit-modal__field",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.editedItem.name=e})},null,512),[[r["r"],c.editedItem.name]]),Object(r["u"])(Object(r["g"])("textarea",{class:"edit-modal__field",name:"description",id:"",cols:"30",rows:"10","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.editedItem.description=e})},"\r\n      ",512),[[r["r"],c.editedItem.description]]),Object(r["g"])("button",{onClick:t[2]||(t[2]=function(){return a.saveChanges&&a.saveChanges.apply(a,arguments)}),class:"edit-modal__button"},"Save"),Object(r["g"])("button",{onClick:t[3]||(t[3]=function(){return a.closeModal&&a.closeModal.apply(a,arguments)}),class:"edit-modal__button edit-modal__button--text"}," Cancel ")])])}var I={name:"EditBeer",props:{item:{type:Object,defult:function(){return{}}}},data:function(){return{editedItem:{}}},computed:Object(o["a"])({},Object(h["c"])(["getEditBeer"])),methods:Object(o["a"])(Object(o["a"])({},Object(h["d"])(["editBeer","updateBeer"])),{},{closeModal:function(){this.$emit("close-modal")},saveChanges:function(){var e=Object(o["a"])(Object(o["a"])({},this.item),{},{name:this.editedItem.name,description:this.editedItem.description});this.updateBeer(e),this.closeModal()}}),mounted:function(){this.editedItem=this.getEditBeer(this.item.id)}};n("d74a");const E=w()(I,[["render",k]]);var C=E,P={name:"App",components:{BeerItem:B,EditBeerModal:C},data:function(){return{page:1,limit:25,showLoadMoreBtn:!1,loadMoreText:"Show next",isEditModal:!1,editItem:{}}},computed:Object(o["a"])({},Object(h["c"])(["allBeer"])),methods:Object(o["a"])(Object(o["a"])({},Object(h["b"])(["getBeer"])),{},{nextPage:function(){this.page=++this.page},showModal:function(e){this.isEditModal=!0,this.editItem=e},closeModal:function(){this.isEditModal=!1}}),watch:{page:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loadMoreText="...loading",n.prev=1,n.next=4,t.getBeer({page:e,limit:t.limit});case 4:r=n.sent,n.next=11;break;case 7:return n.prev=7,n.t0=n["catch"](1),console.info(n.t0),n.abrupt("return");case 11:t.loadMoreText="Show next",r.length||(t.showLoadMoreBtn=!1);case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))()}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getBeer({page:e.page,limit:e.limit});case 2:e.showLoadMoreBtn=!0;case 3:case"end":return t.stop()}}),t)})))()}};n("fe09");const R=w()(P,[["render",c]]);var S=R,T=n("2909"),L=(n("d81d"),n("7db0"),n("99af"),n("a434"),n("d4ec")),q=n("bee2"),A=n("ade3"),D=n("bc3a"),U=n.n(D),J=U.a.create({baseURL:"https://api.punkapi.com/v2/beers",headers:{"Content-type":"application/json"}}),V=J,$=function(){function e(){Object(L["a"])(this,e),Object(A["a"])(this,"api",V)}return Object(q["a"])(e,[{key:"getAll",value:function(e){return this.api.get("/",{params:e})}}]),e}(),z=new $,F={state:{beer:[]},getters:{allBeer:function(e){var t=100;return e.beer.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{description:e.description.length>t?e.description.substr(0,t)+"...":e.description})}))},getEditBeer:function(e){return function(t){return e.beer.find((function(e){return e.id===t}))}}},mutations:{setPostsData:function(e,t){e.beer=[].concat(Object(T["a"])(e.beer),Object(T["a"])(t))},deleteBeer:function(e,t){var n=e.beer.find((function(e){return e.id===t})),r=e.beer.indexOf(n);e.beer.splice(r,1)},updateBeer:function(e,t){var n=e.beer.find((function(e){return e.id===t.id}));return n=t,n}},actions:{getBeer:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,z.getAll(t);case 4:i=n.sent,n.next=11;break;case 7:return n.prev=7,n.t0=n["catch"](1),console.info(n.t0),n.abrupt("return");case 11:return r("setPostsData",i.data),n.abrupt("return",i.data);case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))()}}},G=Object(h["a"])({state:{},mutations:{},actions:{},modules:{beer:F}});Object(r["c"])(S).use(G).mount("#app")},c573:function(e,t,n){},d74a:function(e,t,n){"use strict";n("c573")},fe09:function(e,t,n){"use strict";n("1492")}});
//# sourceMappingURL=app.76ba2155.js.map